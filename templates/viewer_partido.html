<!doctype html><html><head><meta charset="utf-8"><title>Partido en Vivo</title></head><body>
<h1>Partido: {{ partido }}</h1>
<div id="events"></div>
<script>
  const partidoId = {{ partido.id }};
  const proto = (location.protocol === 'https:') ? 'wss' : 'ws';
  const ws = new WebSocket(proto + '://' + location.host + '/ws/partido/' + partidoId + '/');
  ws.onopen = ()=>console.log('WS viewer conectado');
  ws.onmessage = (e)=>{
    const el = document.getElementById('events');
    const div = document.createElement('div');
    div.textContent = e.data;
    el.prepend(div);
  };
</script>
</body></html>
